<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Project: Blog</title>
    </head>
    
    <style>
        body {
            background-color:rgb(0, 0, 0);
            color:white;
        }
        h1 {
            background-color:rgb(105, 0, 105);
            text-align:center;
            font-family:cursive;
            font-size: 3.2em;
        }
        h2 {
            background-color:rgb(163,163,163);
            color:rgb(105,0,105);
            text-align:center;
        }
        h3 {
            background-color:rgb(163, 163, 163);
            color:rgb(105, 0, 105);
            text-align:center;
        }
        h4 {
            text-align:center;
        }
        h6 {
            color:rgb(217, 185, 217);
        }
        #contents-items {
            color:white;
            font-family:sans-serif;
            font-size:0.8em;
        }
        em {
            color:rgb(217,185,217);
        }
        strong {
            color:rgb(217,185,217);
        }

    </style>
    
    <body>
        
        <h1 id="top">Fizassist's Blog</h1>

        <h3>Entries</h3>
        <ul id="contents-items">
            <li><a href="#learning-javascript" style="color:rgb(209, 175, 209)">Learning Javascript</a></li>
            <li><a href="#starting-html-and-css" style="color:rgb(209,175,209)">Starting HTML and CSS</a></li>
        </ul>
        
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e6/%E0%B2%97%E0%B2%A3%E0%B2%BF%E0%B2%A4%E0%B2%A6_%E0%B2%B8%E0%B2%AE%E0%B3%80%E0%B2%95%E0%B2%B0%E0%B2%A3.jpg" width="539">
        
        <h2 id="learning-javascript">Learning Javascript</h2>
        <h6>5-23-2019</h6>
        
        <p>It took me about <em>three weeks</em>, but I have completed a couple Javascript courses on Khan Academy.  At this point, I have no idea how to get my creations from the Khan Academy coding environment out to the web for the world to see.  I decided to learn how to code using HTML and CSS to better understand how to do this.  Below is my first game that I have made, but it only works with a mouse.  </p>
        
        <p align="center"> 
        <!--This draws the Canvas on the webpage -->
          <canvas id="mycanvas"></canvas> 
        </p>
      
        <h2 id="starting-html-and-css">Starting HTML and CSS</h2>
        <h6>5-23-2019</h6>
        
        <p>At this point, I have put in probably <em>just over 2 hours into learning HTML and CSS</em>.  As of right now, this is not coming as naturally as Javascript did, because there's a <strong>lot</strong> of random tags to remember.  I suppose maybe if I spend more time on the projects, then the practice will help me memorize these tags.</p>
        
        <h4><a href="#learning-javascript" style="color:rgb(209, 175, 209)">Back to Top</a></h4>
        
    </body>
  
 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 <script>
    var sketchProc = function(processingInstance) {
     with (processingInstance) {
        size(400, 400); 
        frameRate(30);
        
        //random variable setup
var projectileGameScore = 0;
var targets = [];
var rings = [];
var targetMidpoints = [];
var midpointHeights = [];
var currentTarget = 0;
var targetHit = false;
var ringHit = false;
var playing = true;
var ballInAir = false;
var sunSpin = 0;
var projectileScoreDed = 0;
var shotsLeft = 10;
var mouseIsHeld = false;

//the following sets up the button object type (DO NOT PASTE THIS INTO FINAL)
var Button = function(config) {
    this.x = config.x || 0;
    this.y = config.y || 0;
    this.w = config.w || 150;
    this.h = config.h || 50;
    this.color = config.color || color(255, 255, 255);
    this.textSize = config.textSize || 20;
    this.text = config.text || "Click";
    this.onClick = config.onClick || function() {};
};

Button.prototype.isMouseInside = function() {
    return (mouseX >= this.x &&
            mouseX <= (this.x+this.w) &&
            mouseY >= this.y && 
            mouseY <= (this.y+this.h));
};

Button.prototype.draw = function() {
    fill(this.color);
    rect(this.x, this.y, this.w, this.h,5);
    fill(0, 0, 0);
    textSize(this.textSize);
    textAlign(CENTER,CENTER);
    text(this.text,this.x+this.w/2,this.y+this.h/2);
};

Button.prototype.handleMouseClick = function() {
    if (this.isMouseInside()) {
        this.onClick();
    }
};

Button.prototype.handleMouseHold = function() {
    if (this.isMouseInside() && mouseIsHeld) {
        this.onClick();
    }
};

//the following lines set up the background of the game and create a draw function
var sunX = 400;
var sunY = 0;

var clouds = [];

var Cloud = function(x,y) {
    this.x = x;
    this.y = y;
};

Cloud.prototype.draw = function(x,y) {
    noStroke();
    fill(255, 255, 255);
    ellipse(x,y,50,50);
    ellipse(x+35,y+-8,50,50);
    ellipse(x+-29,y+-11,43,50);
    ellipse(x+-49,y+-35,43,43);
    ellipse(x+-29,y+-46,36,44);
    ellipse(x+-3,y+-53,43,50);
    ellipse(x+18,y+-55,30,38);
    ellipse(x+60,y+-30,48,45);
    ellipse(x+35,y+-41,43,50);
    ellipse(x+1,y+-11,43,72);
};

var drawClouds = function() {
    var drawCloudOdds = random(0,400);
    if (floor(drawCloudOdds) === 0) {
        clouds.push(new Cloud(-150,random(150,486)));
    }
    for (var i = 0; i < clouds.length; i ++) {
        pushMatrix();
        scale(0.5);
        clouds[i].draw(clouds[i].x,clouds[i].y);
        if (clouds[i].x < 2000) {
            clouds[i].x += 0.3;
        } else {
            clouds.shift();
        }
        popMatrix();
    }
};

var projectileGameBackground = function() {
    noStroke();
    fill(5, 161, 15);  //grass
    rect(0,350,400,50);
    fill(173, 242, 250);  //sky
    rect(0,0,400,350);
    drawClouds();        //clouds
    fill(1, 71, 1);  // trees
    rect(0,330,400,20);
    for(var i = 0; i < 40; i++) {
        fill(102, 68, 0);
        rect(i*11+sin(i*267),325,5,25);
        fill(2, 110, 24);
        ellipse(i*11+sin(i*267),320,38+(10*sin(i*235)),28+(10*sin(i*217)));
    }
    pushMatrix();
    translate(sunX,sunY);
    fill(247, 255, 0);  //sun
    ellipse(0,0,75,75);
    popMatrix();
    sunSpin += 0.005;
    //the following for loop is to make the sun
    for(var i = 0; i < 24; i++) {
        pushMatrix();
        translate(sunX,sunY);
        rotate(i*15+sunSpin);
        stroke(247, 255, 0);
        strokeWeight(2);
        if (i%2 === 1) {
            line(54, 0, 76-sin(sunSpin*10)*14, 0);
        } else {
            line(54, 0, 76+sin(sunSpin*10)*14, 0);
        }
        popMatrix();
    }
};

//the following lines set up the cannon
var cannonX = 37;
var cannonY = 368;
var launchAngle = 45;

var drawCannon = function(x,y,angle) {
    stroke(0, 0, 0);
    strokeWeight(1);
    pushMatrix();
    translate(x,y);
    fill(148, 148, 148);
    translate(0,-10);
    rotate(-angle);
    rect(0,0,51,11);
    rotate(angle);
    translate(0,10);
    arc(0,0,50,50,-3.14,0);
    line(-25,0,25,0);
    popMatrix();
};

//these lines are for the projectile behavior/setup
var Projectile = function(x,y,angle,speed) {
    this.x = x;
    this.y = y;
    this.angle = angle;
    this.speed = speed;
    this.speedX = speed * cos(angle);
    this.speedY = speed * sin(angle);
    this.startTime = 0;
    this.time = 0;
    this.color = color(0, 0, 0);
};

Projectile.prototype.launch = function() {
    this.startTime = millis()/1000;// - this.startTime;
    this.color = color(189, 189, 189);
    shotsLeft -= 1;
};

Projectile.prototype.detectTarget = function() {
    if (this.y > 0) {
        targetHit = this.x*10 > targets[currentTarget].x - 25 && this.x*10 < targets[currentTarget].x + 25  && this.y < 0.3 && this.y > -0.2;
        if (targetHit) {
            targets[currentTarget].hit = true;
            ballInAir = false;
            currentTarget ++;
            //targetHit = false;
            this.x = 2000;
            this.y = 200;
        }
        //currentTarget ++;
        this.y = 200;
        this.x = 2000;
        ballInAir = false;
    }
};

Projectile.prototype.detectRing = function() {
    ringHit = this.x*10 > rings[currentTarget].x - 3 && this.x*10 < rings[currentTarget].x + 3  && this.y*10 < rings[currentTarget].y + 10 && this.y*10 > rings[currentTarget].y - 10;
    if (ringHit) {
        targets[currentTarget].bonus = true;
        ringHit = false;
    }
};

Projectile.prototype.draw = function() {
    this.speedX = this.speed * cos(launchAngle*3.1416/180);
    this.speedY = this.speed * sin(launchAngle*3.1416/180);
    this.time = millis()/1000 - this.startTime;
    pushMatrix();
    translate(cannonX,cannonY);
    scale(10.0);
    fill(this.color);
    noStroke();
    this.y = -(-4.905 * this.time * this.time + this.speedY * this.time)-(5*sin(launchAngle*3.1416/180));
    this.x = this.speedX * this.time+(5*cos(launchAngle*3.1416/180));
    this.detectTarget();
    this.detectRing();
    if (targets[currentTarget].bonus === true) {
        rings[currentTarget].size -= 0.3;
        if (rings[currentTarget].size < 0) {
            rings[currentTarget].y = 200;
        }
        var randomDarkness = random(150,255);
        this.color = color(randomDarkness, randomDarkness, 100);
        stroke(0, 0, 0);
        strokeWeight(0.1);
    }
    stroke(0, 0, 0);
    strokeWeight(0.1);
    ellipse(this.x,this.y,0.8,0.8);
    popMatrix();
};

var testProjectile = new Projectile(cannonX,cannonY,launchAngle, 10);

//lines for setting up the targets & rings
var ProjectileTarget = function(x) {
    this.x = x;
    this.y = 0;
    this.hit = false;
    this.bonus = false;
};

ProjectileTarget.prototype.draw = function() {
    pushMatrix();
    translate(cannonX,cannonY);
    fill(255, 0, 0);
    stroke(0, 0, 0);
    ellipse(this.x,this.y,50,25);
    fill(255, 255, 255);
    ellipse(this.x,this.y,40,18);
    fill(255, 0, 0);
    ellipse(this.x,this.y,30,11);
    fill(255, 255, 255);
    ellipse(this.x,this.y,20,5);
    popMatrix();
};

var Ring = function(y) {
    this.x = 0;
    this.y = y;
    this.size = 5;
};  

Ring.prototype.draw = function() {
    pushMatrix();
    translate(cannonX,cannonY);
    noFill();
    stroke(255, 242, 0);
    strokeWeight(4);
    ellipse(this.x,this.y,this.size*2,this.size*6);
    stroke(0, 0, 0);
    strokeWeight(1);
    ellipse(this.x,this.y,this.size*3,this.size*6.7);
    ellipse(this.x,this.y,this.size*1.3,this.size*5);
    popMatrix();
};

for (var i = 0; i < 10; i++) {
    var randomDistance = random(130,300);
    var randomHeight = random(-40,-200);
    targets[i] = new ProjectileTarget(randomDistance);
    rings[i] = new Ring(randomHeight);
    targetMidpoints[i] = randomDistance/2;
    rings[i].x = targetMidpoints[i];
    targets[10] = new ProjectileTarget(400);
    rings[10] = new Ring(200);
}

//lines to calculate the score
var calculateScore = function() {
    projectileGameScore = 0;
    for (var i = 0; i < 10; i++) {
        if (targets[i].hit === true) {
            if (targets[i].bonus === true) {
                projectileGameScore += 5;
            } else {
                projectileGameScore += 1;
            }
        }
    }
    projectileGameScore -= projectileScoreDed;
};

var endGame = function() {
    if (shotsLeft === 0 & ballInAir === false) {
        playing = false;
        fill(255,255,255,230);
        rect(-2,-3,404,404);
        fill(0, 0, 0);
        textSize(50);
        textAlign(CENTER,CENTER);
        text("Score: " + projectileGameScore,200,191);
        textSize(30);
        text("Click to Restart", 200,255);
    }
};

var restartGame = function() {
    if (playing === false) {
        projectileGameScore = 0;
        projectileScoreDed = 0;
        currentTarget = 0;
        shotsLeft = 10;
        launchAngle = 45;
        testProjectile.speed = 10;
        for (var i = 0; i < 10; i++) {
            var randomDistance = random(130,300);
            var randomHeight = random(-40,-200);
            targets[i] = new ProjectileTarget(randomDistance);
            rings[i] = new Ring(randomHeight);
            targetMidpoints[i] = randomDistance/2;
            rings[i].x = targetMidpoints[i];
            targets[10] = new ProjectileTarget(400);
            rings[10] = new Ring(200);
        }
        playing = true;
    }
};

//lines for setting up buttons
var speedUpButton = new Button({
    text: "Speed Up",
    textSize: 12,
    x: 11, y: 50,
    w: 79, h: 26,
    onClick: function() {
        if (ballInAir === false) {
            //println("clicked")
            testProjectile.speed += 0.04;
        }
    }
});

var speedDownButton = new Button({
    text: "Speed Down",
    textSize: 12,
    x: 11, y: 86,
    w: 79, h: 26,
    onClick: function() {
        if (ballInAir === false) {
            testProjectile.speed -= 0.04;
        }
    }
});

var angleUpButton = new Button({
    text: "Angle Up",
    textSize: 12,
    x: 100, y: 50,
    w: 79, h: 26,
    onClick: function() {
        if (ballInAir === false) {
            launchAngle += 0.4;
        }
    }
});

var angleDownButton = new Button({
    text: "Angle Down",
    textSize: 12,
    x: 100, y: 86,
    w: 79, h: 26,
    onClick: function() {
        if (ballInAir === false) {
            launchAngle -= 0.4;
        }
    }
});

var launchButton = new Button({
    color: color(250, 163, 163),
    text: "Launch",
    textSize: 16,
    x: 46, y: 125,
    w: 100, h: 30,
    onClick: function() {
        if (ballInAir === false && playing === true) {
            targets[currentTarget].bonus = false;
            testProjectile.launch();
            ballInAir = true;
        }
    }    
});

//below arethe mouseClicked and draw functions for the projectile game
var game3MouseClicks = function() {
    launchButton.handleMouseClick();
    speedUpButton.handleMouseClick();
    restartGame();
};

var game3Scene = function() {
    speedUpButton.handleMouseHold();
    speedDownButton.handleMouseHold();
    angleUpButton.handleMouseHold();
    angleDownButton.handleMouseHold();
    calculateScore();
    projectileGameBackground();
    //println(currentTarget);
    targets[currentTarget].draw();
    rings[currentTarget].draw();
    testProjectile.draw();
    drawCannon(cannonX,cannonY,launchAngle*3.1416/180);
    speedUpButton.draw();
    speedDownButton.draw();
    angleUpButton.draw();
    angleDownButton.draw();
    launchButton.draw();
    textSize(17);
    textAlign(LEFT,CENTER);
    text("Speed: "+testProjectile.speed.toFixed(1),12,180);
    text("Angle: "+launchAngle.toFixed(1),12,205);
    text("Shots Left: "+ shotsLeft,12,382);
    textSize(23);
    text("Score: "+projectileGameScore,147,24);
    endGame();
};
  
mouseClicked = function() {
    mouseIsHeld = false;
    game3MouseClicks();
};

mousePressed = function() {
    mouseIsHeld = true;
}
      
testProjectile.startTime = 10000;

draw = function() {
    //println(mouseIsHeld);
    game3Scene();
};
    }};

    // Get the canvas that Processing-js will use
    var canvas = document.getElementById("mycanvas"); 
    // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
    var processingInstance = new Processing(canvas, sketchProc); 
 </script> 
  
  
</html>
